<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-software-architecture/architecture-patterns/event-driven-architecture">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Event Driven Architecture | Software Architecture</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-test-site.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-test-site.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/docs/software-architecture/architecture-patterns/event-driven-architecture"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Event Driven Architecture | Software Architecture"><meta data-rh="true" name="description" content="How would you model event publishing if payload size is very huge?"><meta data-rh="true" property="og:description" content="How would you model event publishing if payload size is very huge?"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/docs/software-architecture/architecture-patterns/event-driven-architecture"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/software-architecture/architecture-patterns/event-driven-architecture" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/software-architecture/architecture-patterns/event-driven-architecture" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Software Architecture RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Software Architecture Atom Feed"><link rel="stylesheet" href="/assets/css/styles.94215a83.css">
<link rel="preload" href="/assets/js/runtime~main.69aba618.js" as="script">
<link rel="preload" href="/assets/js/main.d0efd2ab.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Home</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/category/apis">Software Architecture</a><a class="navbar__item navbar__link" href="/docs/system-design/elastic-search-basics">System Design</a><a class="navbar__item navbar__link" href="/blog">Tech Talks</a><a class="navbar__item navbar__link" href="/docs/blogs-to-follow">Blogs To Follow</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/atulagrawal/software-architecture" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/apis">APIs</a><button aria-label="Toggle the collapsible sidebar category &#x27;APIs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/quality-attributes">Quality Attributes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Quality Attributes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/architecture-patterns">Architecture Patterns</a><button aria-label="Toggle the collapsible sidebar category &#x27;Architecture Patterns&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/software-architecture/architecture-patterns/domain-driven-design">Domain Driven Design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/software-architecture/architecture-patterns/event-driven-architecture">Event Driven Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/software-architecture/architecture-patterns/eventual-consistency">Eventual Consistency</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/software-architecture/architecture-patterns/hexagonal-architecture">Hexagonal Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/software-architecture/architecture-patterns/microservices-articles">Microservices - Articles!</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/software-architecture/architecture-patterns/modular-monolith">Modular Monolith</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/software-architecture/architecture-patterns/mvc vs mvp vs mvvm">MVC vs MVP vs MVVM</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/topics">Topics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Topics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/software-architecture/quotes">Quotes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/software-architecture/things-to-always-keep-in-mind">Things to always keep in mind</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/architecture-patterns"><span itemprop="name">Architecture Patterns</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Event Driven Architecture</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Event Driven Architecture</h1><p>How would you model event publishing if payload size is very huge?
<a href="https://akfpartners.com/growth-blog/claim-check-pattern" target="_blank" rel="noopener noreferrer">https://akfpartners.com/growth-blog/claim-check-pattern</a></p><h1>Taxonomy</h1><ul><li>Publisher - A service that publishes the events.</li><li>Consumer - A client application that consumers the events.</li><li>Event - An event signals the changes in the application state or resources or the domain aggregate.</li></ul><h1>Event Modelling</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="domain-events">Domain Events<a href="#domain-events" class="hash-link" aria-label="Direct link to Domain Events" title="Direct link to Domain Events">​</a></h2><blockquote><p>A domain event is published whenever a business operation is performed by the customer of the system.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="general-purpose-change-event-aka-event-carried-state-transfer">General Purpose Change Event (a.k.a. Event Carried State Transfer)<a href="#general-purpose-change-event-aka-event-carried-state-transfer" class="hash-link" aria-label="Direct link to General Purpose Change Event (a.k.a. Event Carried State Transfer)" title="Direct link to General Purpose Change Event (a.k.a. Event Carried State Transfer)">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="delta-events">Delta Events<a href="#delta-events" class="hash-link" aria-label="Direct link to Delta Events" title="Direct link to Delta Events">​</a></h3><p>Delta Events contains the old value and the new value. This type of event is required when consumers are interested in knowing the old and updated value. A simple use case would to be for <em>Activlity Log Service</em> that keeps track of <em>what</em> actions were performed by the customer and <em>what values</em> were changed and on what date.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fine-grained-event">Fine Grained Event<a href="#fine-grained-event" class="hash-link" aria-label="Direct link to Fine Grained Event" title="Direct link to Fine Grained Event">​</a></h3><p>If there are many consumers and each consumer is interested in specific part of the message payload then fine grained events can be useful as consumers are decoupled and they are only aware of the payload details that are specific to thier business needs. </p><p>The other use case for fine grained events could be the security and access role. In this case, publisher might want to be careful about the info that is shared with consumer as it might lead to security, data privacy and other access related issues.</p><p>The fine grained events can also help in improving the overall availablity of the system as it helps in reducing the blast radius of the impact in case if any part of the system that publishes these event is down (Tradeoff - entire event not being available vs part of the event not being available). It also helps in improving the performance of the consumer app as they wouldn&#x27;t have to deal with noise (unwated events).</p><p>On the other side, this will lead to fan-out effect where multiple events will have to be published for a single business trasaction (e.g. customer updating the profile) and in case if a consumer is interseted in all the details of a business transaction then this pattern will add more work and complexities for the consumer.</p><p>In this example, if pubisher changes the contract of the Phone then there wouldn&#x27;t be any impact to the consumers who are consuming the AddressChangedEvent.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="coarse-grained-event">Coarse Grained Event<a href="#coarse-grained-event" class="hash-link" aria-label="Direct link to Coarse Grained Event" title="Direct link to Coarse Grained Event">​</a></h3><p>Coarse grained events contain all the details about the resource (domain aggregate). This can help in reducing the complexity on consumer side as they get all the details in one single payload and they wouldn&#x27;t have to make additional calls for loading the missing part of the payload.</p><p>This also helps in reducing the divergence with the publisher system for the cases when the state of the resources changes frequently as the entire context of the changes is part of the payload and doesn&#x27;t require any changes. E.g. The customer&#x27;s balance will be diffrent in case if multiple transactions are procsssed within a short period of time. </p><p>On the other side</p><ul><li>This model adds some level of complexity on the publisher side as its difficult for them to find out which consumers are interested in what part of the events and they have to align with all consumers whenever there are changes to the events.</li><li>This model also adds additional load on consumer side as they end up processing more events then they should be processing.</li></ul><p>The corase grained events can be really useful for audit trail, transaction history like use cases.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="thin-event-aka-event-notification">Thin Event (a.k.a Event Notification)<a href="#thin-event-aka-event-notification" class="hash-link" aria-label="Direct link to Thin Event (a.k.a Event Notification)" title="Direct link to Thin Event (a.k.a Event Notification)">​</a></h3><p>This event contain the minimal payload for the resource changes (e.g. resource id, status). The main purpose is to inform the client then something has happened in the system and consumers are required to load the other details for subsequent processing.</p><p>Thin events are useful when consumers must process the the latest state of the events. In this case, consumer always load the latest state via API call instead of relying on the payload as it may not be up-to-date. This approach also helps in solving the out of order issue for the events.</p><p>On the contratry, the Fat event is similar to coarse grained events and contains the entire resource payload.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h2><p><a href="https://medium.com/swlh/event-notification-vs-event-carried-state-transfer-2e4fdf8f6662" target="_blank" rel="noopener noreferrer">Event Notification vs Event Carried State Transfer</a></p><p><a href="https://www.infoq.com/articles/eda-mediator/" target="_blank" rel="noopener noreferrer">Case Study - Document Processor System for Due Dillgience</a></p><p><img loading="lazy" src="https://imgopt.infoq.com/fit-in/1200x2400/filters:quality(80)/filters:no_upscale()/articles/eda-mediator/en/resources/27figure-1-1685547198564.jpg" alt="Diagram" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/atulagrawal/software-architecture/tree/main/packages/create-docusaurus/templates/shared/docs/software-architecture/architecture-patterns/event-driven-architecture.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/software-architecture/architecture-patterns/domain-driven-design"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Domain Driven Design</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/software-architecture/architecture-patterns/eventual-consistency"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Eventual Consistency</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#domain-events" class="table-of-contents__link toc-highlight">Domain Events</a><ul><li><a href="#general-purpose-change-event-aka-event-carried-state-transfer" class="table-of-contents__link toc-highlight">General Purpose Change Event (a.k.a. Event Carried State Transfer)</a></li><li><a href="#delta-events" class="table-of-contents__link toc-highlight">Delta Events</a></li><li><a href="#fine-grained-event" class="table-of-contents__link toc-highlight">Fine Grained Event</a></li><li><a href="#coarse-grained-event" class="table-of-contents__link toc-highlight">Coarse Grained Event</a></li><li><a href="#thin-event-aka-event-notification" class="table-of-contents__link toc-highlight">Thin Event (a.k.a Event Notification)</a></li></ul></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/contribute">Contribute</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/atulagrawal/software-architecture" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
<script src="/assets/js/runtime~main.69aba618.js"></script>
<script src="/assets/js/main.d0efd2ab.js"></script>
</body>
</html>